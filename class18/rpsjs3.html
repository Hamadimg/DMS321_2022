<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>DMS 321 client-side rock-paper-scissors</title>
<script>
/*
   Add use of timing events to the RPS game, to make the output change gradually.
   Note: this uses a couple global variables, a less than ideal practice, just to make it easier to read.
*/
function $(name) {
    return document.getElementById(name);
    }

function choose(list) {
    let i = Math.floor(Math.random() * list.length);
    return list[i];
    }

let human = '';
let robot = '';

function RPSChoice1() {
    $('result').innerHTML = `<p>You chose ${human}</p>`;
    setTimeout(RPSChoice2, 1000);
    }

function RPSChoice2() {
    robot = choose(['rock', 'paper', 'scissors']);
    $('result').innerHTML += `<p>I chose ${robot}</p>`;
    setTimeout(RPSChoice3, 500);
    }

function RPSChoice3() {
    if (human == robot)
        output = '<p>It\'s a tie</p>';
    else if ((human == 'rock') && (robot == 'scissors'))
        output = '<p>You win!</p>';
    else if ((human == 'paper') && (robot == 'rock'))
        output = '<p>You win!</p>';
    else if ((human == 'scissors') && (robot == 'paper'))
        output = '<p>You win!</p>';
    else
        output = '<p>I win!</p>';
    $('result').innerHTML += output;
    }

function chooseRock(event) { human = 'rock'; RPSChoice1(); }
function choosePaper(event) { human = 'paper'; RPSChoice1(); }
function chooseScissors(event) { human = 'scissors'; RPSChoice1(); }

window.onload = function () {
    $('rockbutton').addEventListener('click', chooseRock);
    $('paperbutton').addEventListener('click', choosePaper);
    $('scissorsbutton').addEventListener('click', chooseScissors);
    }
</script>
</head>

<body>
<p>
Let's play rock-paper-scissors
</p>
<p>
What do you choose?
<ul>
<li><button id="rockbutton">rock</button></li>
<li><button id="paperbutton">paper</button></li>
<li><button id="scissorsbutton">scissors</button></li>
</ul>
</p>
<p id="result">
</p>

</body>

</html>
