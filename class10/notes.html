<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>DMS 321 - Class 9</title>
<style>
html {
    font-size: 3em;
    }
h1.title {
    text-decoration: underline;
    }
h1 {
    text-align: center;
    }
ul {
    margin-left: 1em;
    }
.tt { font-family: Courier; }
div.leftcol
  {
  position: absolute;
  width: 40%;
  left: 2%;
  }
div.rightcol
  { width: 40%;
  position: absolute;
  left: 50%;
  }
pre
    {
    margin-left: 2em;
    }
.boxed
    {
    border: solid;
    }
</style>
</head>

<body>

<h1>Mongodb commands</h1>
<dl>
<dt><em>Create</em>
<dd>insertOne(), insertMany()
<dt><em>Read</em>
<dd>find(), findOne()
<dd>supplementary functions: sort(), limit(), toArray()
<dt><em>Update</em>
<dd>updateOne(), updateMany()
<dt><em>Delete</em>
<dd>deleteOne(), deleteMany()
</dl>

<br><br><br><br><br><br>
<br><br><br><br><br><br>
<br><br><br><br><br><br>

<h1>Database connection</h1>

<p>
Copy the example code from the mongodb.com Atlas control panel - under Cluster Overview, the "Connect" button.
</p>
<p>
Will look something like:
</p>
<pre class="boxed">
const { MongoClient, ServerApiVersion } = require('mongodb');
const uri = "mongodb+srv://dave:<password>@cluster0.1iikc.mongodb.net/myFirstDatabase?retryWrites=true&w=majority";
const client = new MongoClient(uri, { useNewUrlParser: true, useUnifiedTopology: true, serverApi: ServerApiVersion.v1 });
client.connect(err => {
  const collection = client.db("test").collection("devices");
  // perform actions on the collection object
  client.close();
});
</pre>
<p>
For a full app, leave out the "client.close()" - you'll connect once at start, and just retain that connection.
</p>


</body>
</html>
